<!doctype html>
<html lang="ar"> 
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>All in 1 Store</title>
  <link href="style.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;800&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
</head>
<body dir="rtl">
  <header class="site-header">
    <div class="header-left"></div>
    <div class="header-center" style="display:flex;align-items:center;flex-direction:column;justify-content:center;gap:8px">
      <div style="display:flex;align-items:center;gap:12px">
        <img id="site-logo" src="assets/icon-b.png" alt="logo" class="site-logo">
        <h1 class="neon-title">All in 1 Store</h1>
      </div>
      <div class="header-actions" style="display:flex;gap:8px;align-items:center">
        <button id="open-cart" class="btn cart-btn">๐ <span id="cart-count">0</span></button>
        <button id="open-login" class="btn outline">๐ ุชุณุฌูู ุฏุฎูู</button>
        <button id="open-account" class="btn">๐ ุฅูุดุงุก ุญุณุงุจ</button>
        <button id="user-profile-btn" class="btn" style="display:none">๐ค <span id="user-profile-name"></span></button>
        <button id="admin-status" class="btn" style="display:none">โ๏ธ ููุญุฉ ุงูุงุฏูู</button>
      </div>
    </div>
  </header>

  <div style="display:flex;gap:16px">
    <!-- Cart Modal (replaces sidebar) -->
    <div id="cart-modal" class="modal hidden" aria-hidden="true">
      <div class="modal-content glass" style="max-width:520px;width:95%;">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
          <h3 style="margin:0">๐ ุงูุนุฑุจุฉ</h3>
          <button id="close-cart-modal" class="btn-close">โ</button>
        </div>
        <div id="cart-items" style="max-height:calc(60vh);overflow-y:auto;border:1px solid rgba(255,255,255,0.06);padding:10px;border-radius:8px"></div>
        <div style="margin-top:12px">
          <div style="margin-bottom:8px;padding:10px;border-radius:8px;background:rgba(0,0,0,0.12);">๐ฆ <strong>ุฃุณุนุงุฑ ุงูุดุญู</strong>:<br>
            ุงููุงูุฑุฉ ูุงูุฌูุฒุฉ ูุงูุงุณููุฏุฑูุฉ - <strong>85 ุฌ.ู</strong><br>
            ูุญุงูุธุงุช ุงูุฏูุชุง - <strong>90 ุฌ.ู</strong><br>
            ูุญุงูุธุงุช ุงูุตุนูุฏ - <strong>95 ุฌ.ู</strong>
          </div>
          <label style="display:flex;gap:8px;align-items:center;margin-bottom:8px">ุงุฎุชุฑ ููุทูุชู ููุดุญู:
            <select id="shipping-region" class="input" style="width:220px;margin-right:8px">
              <option value="cairo">ุงููุงูุฑุฉ ูุงูุฌูุฒุฉ ูุงูุฅุณููุฏุฑูุฉ</option>
              <option value="delta">ูุญุงูุธุงุช ุงูุฏูุชุง</option>
              <option value="saeed">ูุญุงูุธุงุช ุงูุตุนูุฏ</option>
            </select>
          </label>
          <div class="cart-summary" style="margin-top:6px">
            <div style="font-weight:600;padding:12px;background:rgba(124,58,237,0.06);border-radius:8px">ุงููุฌููุน: <span id="cart-total">0</span> ุฌ.ู</div>
            <div style="display:flex;gap:8px;margin-top:10px">
              <button id="checkout-btn" class="btn primary" style="flex:1">โ ุดุฑุงุก ุงูุขู</button>
              <button id="clear-cart-btn" class="btn outline" style="flex:1">๐๏ธ ูุณุญ</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <main class="container">

  <main class="container">
    <section class="hero">
      <p class="hero-sub">โจ ูุชุฌุฑู ุงูููุถู ููู ูุง ุชุญุชุงุฌู | ุชุณูู ุฐููุ ุดุญู ุณุฑูุนุ ุฃุณุนุงุฑ ููุงูุณุฉ ๐</p>
    </section>

    <section class="filters">
      <input id="search-input" type="text" placeholder="๐ ุงุจุญุซ ุนู ุงูููุชุฌ..." class="input">
      <select id="sort-select" class="input">
        <option value="newest">โฐ ุงูุฃุญุฏุซ ุฃููุงู</option>
        <option value="price-low">๐ฐ ุงูุณุนุฑ: ุงูุฃูู ุฃููุงู</option>
        <option value="price-high">๐ธ ุงูุณุนุฑ: ุงูุฃุนูู ุฃููุงู</option>
        <option value="name">๐ ุชุฑุชูุจ ุฃุจุฌุฏู</option>
      </select>
    </section>

    <h2 style="text-align:center;color:#06b6d4;margin:20px 0">๐ช ุงูููุชุฌุงุช ุงููุชุงุญุฉ</h2>
    <section id="products" class="products-grid"></section>
    </main>
  </div>

  <!-- Admin Product Modal (add / edit) -->
  <div id="admin-product-modal" class="modal hidden">
    <div class="modal-content glass" style="max-width:520px;width:95%;max-height:90vh;overflow-y:auto">
      <h3 style="text-align:center;margin-bottom:12px">โ ุฅุถุงูุฉ / ุชุนุฏูู ููุชุฌ</h3>
      <div style="display:grid;gap:10px">
        <input id="ap-name" placeholder="๐ท๏ธ ุงุณู ุงูููุชุฌ" class="input">
        <input id="ap-price" type="number" placeholder="๐ฐ ุงูุณุนุฑ" class="input">
        <input id="ap-main" placeholder="๐ผ๏ธ ุงูุตูุฑุฉ ุงูุฑุฆูุณูุฉ (ุงุณู ููู ุฃู URL)" class="input">
        <input id="ap-additional" placeholder="๐ผ๏ธ ุตูุฑ ุฅุถุงููุฉ (ุงูุตู ุจู | )" class="input">
        <input id="ap-colors" placeholder="๐จ ุงูุฃููุงู (ููุตููุฉ ุจููุงุตู)" class="input">
        <input id="ap-discount" type="number" placeholder="๐ท๏ธ ูุณุจุฉ ุงูุฎุตู (ูุซุงู: 10)" class="input">
        <label style="display:flex;align-items:center;gap:8px"><input id="ap-free-shipping" type="checkbox"> ๐ ุดุญู ูุฌุงูู</label>
        <label style="display:flex;align-items:center;gap:8px"><input id="ap-trending" type="checkbox"> โญ ููุชุฌ ูููุฒ (Trending)</label>
        <textarea id="ap-desc" placeholder="๐ ุงููุตู" class="input" style="min-height:80px"></textarea>
        <div style="display:flex;gap:8px">
          <button id="ap-save" class="btn primary" style="flex:1">ุญูุธ</button>
          <button id="ap-cancel" class="btn outline" style="flex:1">ุฅูุบุงุก</button>
        </div>
      </div>
    </div>
  </div>

  <!-- cart modal removed โ using persistent sidebar on the side -->

  <!-- Admin Login Modal -->
  <div id="admin-login-modal" class="modal hidden">
    <div class="modal-content glass" style="width:90%;max-width:420px">
      <h3 style="text-align:center">โ๏ธ ุชุณุฌูู ุฏุฎูู ุงูุงุฏูู</h3>
      <input id="admin-email" type="email" placeholder="๐ง ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" class="input">
      <input id="admin-password" type="password" placeholder="๐ ูููุฉ ุงููุฑูุฑ" class="input">
      <button id="admin-login-btn" class="btn primary" style="width:100%;margin-top:10px">๐ ุฏุฎูู</button>
      <button id="close-admin-login" class="btn outline" style="width:100%;margin-top:8px">โ ุฅุบูุงู</button>
    </div>
  </div>

  <!-- Admin panel (hidden unless logged as admin) -->
  <div id="admin-panel" class="panel hidden">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
      <h2 style="margin:0">โ๏ธ ููุญุฉ ุงูุงุฏูู</h2>
      <button id="logout-admin" class="btn">๐ช ุชุณุฌูู ุฎุฑูุฌ</button>
    </div>
    <div class="admin-actions">
      <input id="excel-file" type="file" accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel">
      <button id="import-excel" class="btn">๐ฅ ุงุณุชูุฑุงุฏ ูู ููู</button>
      <button id="add-product" class="btn outline">โ ุฅุถุงูุฉ ููุชุฌ</button>
      <button id="export-products" class="btn outline">๐ค ุชุตุฏูุฑ</button>
      <button id="export-products-json" class="btn outline">๐ฆ ุชูุฒูู JSON</button>
    </div>
    <div id="admin-products" style="max-height:60vh;overflow-y:auto;margin-top:12px"></div>

    <h3>๐ค ุฅุนุฏุงุฏุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู</h3>
    <p class="muted">(ุงุฎุชูุงุฑู) ูุชู ุงุณุชุฎุฏุงู ููุชุงุญ Gemini ูุชูููุฏ ุงููุตู ุขููุงู.</p>
    <input id="gemini-key" placeholder="ููุชุงุญ Gemini (ุงุฎุชูุงุฑู)" class="input" value="AIzaSyA46PXI2lz4luZrv5hJZnT5wt096CF1Xjg">
    <button id="generate-desc" class="btn">โจ ุชูููุฏ ูุตู ุชููุงุฆู</button>

    <h3 style="margin-top:12px">๐ ูุดุฑ ุงูุชุบููุฑุงุช (Serverless)</h3>
    <p class="muted">ูููุดุฑ ุงูุขูู ุนูู ุงููุณุชุถูู: ุฃุฏุฎู "ุฑูุฒ ุงููุดุฑ" ุซู ุงุถุบุท ุญูุธ ุฅูู ุงูุฎุงุฏู.</p>
    <input id="deploy-token" placeholder="ุฑูุฒ ุงููุดุฑ (ุณุฑูู)" class="input">
    <div style="display:flex;gap:8px;margin-top:8px">
      <button id="save-server-btn" class="btn primary" style="flex:1">โฌ๏ธ ุญูุธ ุฅูู ุงูุฎุงุฏู (Serverless)</button>
      <button id="download-json-btn" class="btn outline" style="flex:1">๐ฆ ุชูุฒูู JSON</button>
    </div>

    <h3>๐ ุงุญุตุงุฆูุงุช ูุชูุงุฑูุฑ</h3>
    <div id="stats" style="display:grid;gap:12px"></div>

    <h3 style="margin-top:20px">๐ฅ ุฅุฏุงุฑุฉ ุงูุญุณุงุจุงุช</h3>
    <div id="accounts-list" style="max-height:40vh;overflow-y:auto"></div>
  </div>

  <!-- Account modal -->
  <div id="account-modal" class="modal hidden">
    <div class="modal-content glass" style="width:90%;max-width:450px">
      <h3 style="text-align:center;margin-bottom:20px">๐ค ุญุณุงุจู ุงูุดุฎุตู</h3>
      <div style="display:grid;gap:12px">
        <div>
          <label style="font-size:12px;color:rgba(255,255,255,0.7)">๐ค ุงูุงุณู *</label>
          <input id="user-name" placeholder="ูุญูุฏ ุนูู" class="input">
        </div>
        <div>
          <label style="font-size:12px;color:rgba(255,255,255,0.7)">๐ง ุงูุฅููู *</label>
          <input id="user-email" type="email" placeholder="name@example.com" class="input">
        </div>
        <div>
          <label style="font-size:12px;color:rgba(255,255,255,0.7)">๐ฑ ุฑูู ุงููุงุชู *</label>
          <input id="user-phone" type="tel" placeholder="01012345678" class="input">
        </div>
        <div>
          <label style="font-size:12px;color:rgba(255,255,255,0.7)">๐ ูููุฉ ุงููุฑูุฑ *</label>
          <input id="user-password" type="password" placeholder="ูููุฉ ุงููุฑูุฑ" class="input">
        </div>
        <div>
          <label style="font-size:12px;color:rgba(255,255,255,0.7)">๐ ุนููุงู ุงูุชูุตูู *</label>
          <textarea id="user-address" placeholder="ุงุฏุฎู ุงูุนููุงู ูุงููุงู (ุงููุฏููุฉุ ุงูุญูุ ุฑูู ุงูุจูุช)" class="input" style="min-height:80px;resize:vertical;font-family:'Cairo',sans-serif"></textarea>
        </div>
      </div>
      <button id="save-account" class="btn primary" style="width:100%;margin-top:16px">๐พ ุญูุธ ุงูุญุณุงุจ</button>
      <button id="close-account" class="btn outline" style="width:100%;margin-top:8px">โ ุฅุบูุงู</button>
    </div>
  </div>

  <!-- Login Modal -->
  <div id="login-modal" class="modal hidden">
    <div class="modal-content glass" style="width:90%;max-width:420px">
      <h3 style="text-align:center;margin-bottom:12px">๐ ุชุณุฌูู ุงูุฏุฎูู</h3>
      <input id="login-email" type="email" placeholder="๐ง ุงูุฅููู" class="input">
      <input id="login-phone" type="tel" placeholder="๐ฑ ุฑูู ุงููุงุชู" class="input">
      <input id="login-password" type="password" placeholder="๐ ูููุฉ ุงููุฑูุฑ" class="input">
      <button id="login-btn" class="btn primary" style="width:100%;margin-top:10px">๐ ุฏุฎูู</button>
      <button id="close-login" class="btn outline" style="width:100%;margin-top:8px">โ ุฅุบูุงู</button>
    </div>
  </div>

  <!-- Message Modal (generic) -->
  <div id="message-modal" class="modal hidden" aria-hidden="true">
    <div class="modal-content glass" style="max-width:420px;text-align:center">
      <div id="message-modal-title" style="font-size:18px;font-weight:800;margin-bottom:8px"></div>
      <div id="message-modal-body" style="margin-bottom:16px;color:rgba(255,255,255,0.9)"></div>
      <button id="message-modal-ok" class="btn primary" style="width:100%">ุญุณูุงู</button>
    </div>
  </div>

  <!-- Confirm Modal -->
  <div id="confirm-modal" class="modal hidden" aria-hidden="true">
    <div class="modal-content glass" style="max-width:420px;text-align:center">
      <div id="confirm-modal-body" style="margin-bottom:16px;font-size:15px"></div>
      <div style="display:flex;gap:8px">
        <button id="confirm-yes" class="btn primary" style="flex:1">ูุนู</button>
        <button id="confirm-no" class="btn outline" style="flex:1">ูุง</button>
      </div>
    </div>

      <!-- Toast container -->
      <div id="toast-container" style="position:fixed;top:16px;left:50%;transform:translateX(-50%);z-index:2000;display:flex;flex-direction:column;gap:8px;pointer-events:none"></div>
  </div>

  <!-- Success Modal -->
  <div id="success-modal" class="modal hidden">
    <div class="modal-content neon-popup" style="text-align:center;animation:pulse 0.5s">
      <div style="font-size:48px;margin-bottom:12px">๐</div>
      <h3>โ ุชู ุฅุฑุณุงู ุทูุจู ุจูุฌุงุญ</h3>
      <p>ุณูุชู ุชุฃููุฏ ุทูุจู ูู ุฃูุฑุจ ููุช ุนุจุฑ ุงููุงุชุณุงุจ.</p>
      <p style="font-size:12px;color:rgba(255,255,255,0.6)">๐ฒ ุชุญูู ูู ุฑุณุงูุชู ุนูู WhatsApp</p>
      <button id="close-success" class="btn" style="width:100%;margin-top:10px">โ ุฅุบูุงู</button>
    </div>
  </div>

  <!-- User Profile Modal -->
  <div id="user-profile-modal" class="modal hidden">
    <div class="modal-content glass" style="width:90%;max-width:400px">
      <h3 style="text-align:center;margin-bottom:16px">๐ค ุจูุงูุงุช ุญุณุงุจู</h3>
      <div style="display:grid;gap:12px">
        <div style="background:rgba(124,58,237,0.1);padding:10px;border-radius:8px">
          <label style="font-size:11px;color:rgba(255,255,255,0.6)">๐ค ุงูุงุณู</label>
          <p id="profile-name" style="margin:6px 0;font-weight:600"></p>
        </div>
        <div style="background:rgba(124,58,237,0.1);padding:10px;border-radius:8px">
          <label style="font-size:11px;color:rgba(255,255,255,0.6)">๐ฑ ุงููุงุชู</label>
          <p id="profile-phone" style="margin:6px 0;font-weight:600"></p>
        </div>
        <div style="background:rgba(124,58,237,0.1);padding:10px;border-radius:8px">
          <label style="font-size:11px;color:rgba(255,255,255,0.6)">๐ ุงูุนููุงู</label>
          <p id="profile-address" style="margin:6px 0;font-weight:600"></p>
        </div>
      </div>
      <button id="logout-user" class="btn outline" style="width:100%;margin-top:16px">๐ช ุชุณุฌูู ุฎุฑูุฌ</button>
      <button id="close-profile" class="btn outline" style="width:100%;margin-top:8px">โ ุฅุบูุงู</button>
    </div>
  </div>

  <template id="product-card">
    <article class="product-card">
      <div class="product-badge" style="position:absolute;top:8px;right:8px;background:rgba(124,58,237,0.8);padding:4px 8px;border-radius:4px;font-size:11px;display:none"></div>
      <img class="product-img" src="" alt="">
      <h4 class="product-name"></h4>
      <p class="product-desc" style="font-size:12px;color:rgba(255,255,255,0.6);margin:6px 0;max-height:40px;overflow:hidden"></p>
      <div class="product-price"></div>
      <div class="product-actions">
        <button class="btn add-to-cart" style="width:100%">๐ ุฃุถู ุฅูู ุงูุนุฑุจุฉ</button>
      </div>
    </article>
  </template>

  <!-- Product Detail Modal -->
  <div id="product-modal" class="modal hidden">
    <div class="modal-content glass" style="max-width:820px;width:96%;max-height:90vh;display:flex;flex-direction:column;gap:14px;align-items:stretch;padding:16px;overflow:auto">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <h3 id="pm-title" style="margin:0">ุชูุงุตูู ุงูููุชุฌ</h3>
        <button id="pm-close" class="btn-close">โ</button>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;min-height:0">
        <!-- Left: Images -->
        <div style="min-width:0">
          <div style="background:rgba(0,0,0,0.12);padding:12px;border-radius:8px;text-align:center">
            <img id="pm-main-image" src="https://via.placeholder.com/600x400?text=Product" style="max-width:100%;height:auto;border-radius:8px;object-fit:cover">
          </div>
          <div id="pm-thumbs" style="display:flex;gap:8px;margin-top:8px;flex-wrap:wrap"></div>
        </div>
        <!-- Right: Details -->
        <div style="min-width:0;display:flex;flex-direction:column;min-height:0">
          <div style="margin-bottom:12px">
            <div id="pm-price" style="font-size:20px;color:#06b6d4;font-weight:700"></div>
            <div id="pm-old-price" style="font-size:12px;color:rgba(255,255,255,0.6);text-decoration:line-through;margin-top:6px;display:none"></div>
          </div>
          <div style="flex:1;overflow:auto">
            <h4 style="margin:0 0 6px 0">ุงููุตู</h4>
            <p id="pm-desc" style="color:rgba(255,255,255,0.85);line-height:1.4;font-size:14px"></p>
            <h5 style="margin-top:12px;margin-bottom:6px">ุงูุจูุงูุงุช</h5>
            <div id="pm-details" style="font-size:13px;color:rgba(255,255,255,0.75)"></div>
          </div>
          <div style="display:flex;gap:8px;margin-top:12px">
            <button id="pm-add-to-cart" class="btn primary" style="flex:1">๐ ุฃุถู ุฅูู ุงูุนุฑุจุฉ</button>
            <button id="pm-buy-now" class="btn outline" style="flex:1">๐ณ ุดุฑุงุก ุงูุขู</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer / ุงูุญููู -->
  <footer class="site-footer" style="text-align:center;padding:18px 12px;color:rgba(255,255,255,0.75);font-size:14px;border-top:1px solid rgba(255,255,255,0.03);margin-top:24px">
    ุชู ุตูุงุนุฉ ูุชุทููุฑ ูุฐุง ุงููุชุฌุฑ ุงูุงููุชุฑููู ุจูุงุณุทุฉ <strong>Dr.Mario Faltas</strong>
    &nbsp; - &nbsp; ููุชูุงุตู : <a href="https://wa.me/201284731863" style="color:#06b6d4;text-decoration:none">01284731863 ูุงุชุณุงุจ</a>
  </footer>

  <script src="app.js"></script>
</body>
</html>
